"description": |
  The following code sample demonstrates using
  `Class.MemoryStoreQueue:ReadAsync()` and
  `Class.MemoryStoreQueue:RemoveAsync()` to reliably read, process, and remove
  items from a queue. While the processing code can be as complicated as
  necessary, in this example we simply set a flag in the corresponding datastore
  item; it guarantees that every item will eventually be processed even if some
  of the calls encounter errors or the game server crashes:

  - If ReadAsync() fails, no items are retrieved from the queue. An item will be
    picked up for processing during the next iteration of the loop.
  - If ReadAsync() succeeds but
    `Class.DataStoreService:UpdateAsync()|ds:UpdateAsync()` fails, the item will
    stay invisible until the queue's invisibility timeout expires, leading to
    the item becoming visible again to be returned in a future loop iteration.
  - Similarly, if RemoveAsync() fails, the item will become visible again in the
    future and will be processed again.

  Note that depending on where the failure happens, it is possible that an item
  will be processed more than once and the processing code should account for
  that. It's not a problem in this sample code since the end result is the same,
  even if ds:UpdateAsync is invoked multiple times.
"display_name": |-
  Using a MemoryStoreQueue
"expected_output": ""
"highlight_lines": ""
"category": Docs Sample
